<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>בית הכנסת חניכי ישיבות - חריש</title>
    <!-- טוען את Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- טוען גופנים מגוגל פונטס -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&family=Heebo:wght@400;700&family=Frank+Ruhl+Libre:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* הגדרת גופנים, פלטת צבעים חדשה ועיצוב כללי מודרני */
        body {
            font-family: 'Assistant', sans-serif;
            background-color: #f0f4f8; /* צבע רקע בהיר */
            color: #333;
        }
        h1, h2, h3, .font-title {
            font-family: 'Heebo', sans-serif;
        }
        html {
            scroll-behavior: smooth;
        }
        
        .bg-syn-green {
            background-color: #0d2139; /* כחול כהה במקום ירוק */
        }
        .text-syn-gold {
            color: #ffc107; /* זהב */
        }
        .bg-syn-gold {
            background-color: #ffc107;
        }
        .border-syn-gold {
            border-color: #ffc107;
        }

        /* Admin Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-content {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            max-width: 500px;
            width: 90%;
            text-align: right;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .close-btn {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        .modal-input {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background-color: #f9f9f9;
        }
        .modal-input:focus {
            outline: none;
            border-color: #ffc107;
            box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.3);
        }
        
        /* New Hero Section background image and overlay */
        .hero-bg {
            background-image: url('https://i.postimg.cc/vmZWTKjb/IMG-20241027-075243-174.jpg');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            background-color: rgba(13, 33, 57, 0.75); /* שכבה כחולה כהה שקופה */
        }

        /* אנימציות לשדרוג ויזואלי */
        @keyframes fadeInSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .hero-content > * {
            animation: fadeInSlideUp 1s ease-out forwards;
        }
        .hero-content h1 {
            animation-delay: 0.2s;
        }
        .hero-content p:nth-of-type(1) {
            animation-delay: 0.4s;
        }
        .hero-content p:nth-of-type(2) {
            animation-delay: 0.6s;
        }
        .hero-content a {
            animation-delay: 0.8s;
        }

        /* Hover effect for cards */
        .card-hover {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border-radius: 12px;
        }
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 25px rgba(0,0,0,0.1);
        }

        /* Scroll-based animations */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* גלריה מתוקנת - שינוי קריטי */
        .image-carousel-container {
            position: relative;
            max-width: 800px;
            margin: auto;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .image-carousel {
            position: relative;
            width: 100%;
            height: 60vh; /* הגדלת הגובה כדי למנוע חיתוך */
            max-height: 800px;
            overflow: hidden;
            border-radius: 12px;
        }
        .carousel-slide {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .carousel-slide.active {
            opacity: 1;
        }
        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* שינוי קריטי: יציג את כל התמונה */
            border-radius: 12px;
            cursor: pointer;
        }
        
        /* כפתורי ניווט בגלריה */
        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.7);
            color: #0d2139;
            border-radius: 50%;
            padding: 10px;
            cursor: pointer;
            z-index: 10;
            transition: background-color 0.3s ease;
        }
        .nav-btn:hover {
            background-color: rgba(255, 255, 255, 1);
        }
        #prev-btn {
            right: 15px;
        }
        #next-btn {
            left: 15px;
        }

        /* לוגו - שינוי קריטי */
        .logo {
            max-height: 100px; /* הגדלנו את הגובה המקסימלי */
            width: auto;
            object-fit: contain; /* ensures the entire logo is visible */
        }

        /* Fullscreen Image Modal */
        #fullscreen-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
        }
        .fullscreen-content {
            position: relative;
            width: 90%;
            height: 90%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #fullscreen-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        #fullscreen-modal .close-btn {
            position: absolute;
            top: 20px;
            left: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }
        #fullscreen-modal .close-btn:hover,
        #fullscreen-modal .close-btn:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        .fullscreen-nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 50px;
            cursor: pointer;
            transition: 0.3s;
            z-index: 1001;
        }
        .fullscreen-nav-btn:hover {
            color: #ffc107;
        }
        #fullscreen-prev {
            left: 20px;
        }
        #fullscreen-next {
            right: 20px;
        }

    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'syn-green': '#0d2139',
                        'syn-gold': '#ffc107',
                        'syn-light': '#e6eef5',
                        'syn-blue': '#4a90e2',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-syn-light">

    <!-- Header & Navigation -->
    <header class="bg-syn-green/90 backdrop-blur-md sticky top-0 z-50 shadow-lg">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo with updated path to the user's logo -->
                <div class="flex items-center">
                    <!-- Updated logo with object-fit: contain fix -->
                    <img src="https://i.postimg.cc/X7vGw5Lk/image.png" alt="Synagogue Logo" class="h-16 ml-4 rounded-full shadow-md logo" onerror="this.onerror=null;this.src='https://placehold.co/64x64/0d2139/ffc107?text=לוגו'">
                    <div class="text-syn-gold font-title text-xl md:text-3xl font-bold">
                        חניכי הישיבות
                    </div>
                </div>
                <div class="hidden md:flex space-x-10 space-x-reverse text-white">
                    <a href="#hero" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">ראשי</a>
                    <a href="#about" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">אודות</a>
                    <a href="#times" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">זמני תפילה</a>
                    <a href="#gallery" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">גלריה</a>
                    <a href="#events" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">שיעורים ואירועים</a>
                    <a href="#" id="admin-btn" class="hover:text-syn-gold transition duration-300 transform hover:scale-105">
                        <i class="fa-solid fa-gear"></i>
                        ניהול
                    </a>
                </div>
                <div class="md:hidden">
                    <button id="menu-btn" class="text-white focus:outline-none">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="md:hidden hidden mt-4">
                <a href="#hero" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">ראשי</a>
                <a href="#about" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">אודות</a>
                <a href="#times" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">זמני תפילה</a>
                <a href="#gallery" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">גלריה</a>
                <a href="#events" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">שיעורים ואירועים</a>
                <a href="#" id="admin-btn-mobile" class="block text-white py-3 px-6 hover:bg-syn-gold/20 hover:text-syn-gold rounded-lg">
                        <i class="fa-solid fa-gear"></i>
                        ניהול
                </a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="text-white text-center py-20 md:py-40 hero-bg">
            <div class="container mx-auto px-6 hero-content">
                <h1 class="text-5xl md:text-7xl font-bold text-syn-gold font-title drop-shadow-lg">בית הכנסת חניכי הישיבות</h1>
                <p class="mt-4 text-xl md:text-3xl font-light">מרכז קהילתי תורני בחריש</p>
                <p class="mt-2 text-md md:text-xl font-light">בית של תפילה, תורה וקהילה בראשות מורינו הגר"ד ברנד שליט"א</p>
                <a href="#times" class="mt-10 inline-block bg-syn-gold text-syn-green font-bold py-4 px-10 rounded-full shadow-lg hover:bg-yellow-500 transition duration-300 transform hover:scale-105">
                    <i class="fa-solid fa-clock ml-2"></i>
                    לזמני התפילות
                </a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 md:py-28 bg-white animate-on-scroll">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-syn-green font-title">קהילה של תורה ועשייה</h2>
                <div class="w-24 h-1 bg-syn-gold mx-auto mt-4 mb-12 rounded"></div>
                <p class="max-w-4xl mx-auto text-gray-700 text-lg md:text-xl leading-relaxed">
                    קהילת "חניכי הישיבות" בחריש מהווה מרכז רוחני ותורני לכלל תושבי האזור. בית הכנסת שלנו הוא לא רק מקום תפילה, אלא מרכז חיים קהילתי המציע שיעורי תורה מגוונים, פעילויות לילדים ולנוער, ואירועים קהילתיים המחברים בין כל חלקי הקהילה. אנו שואפים ליצור אווירה חמה ומקבלת, בה כל אחד ואחת יכולים למצוא את מקומם ולהתחבר למורשת ישראל סבא.
                </p>
            </div>
        </section>

        <!-- Prayer Times Section -->
        <section id="times" class="py-20 md:py-28 bg-syn-light animate-on-scroll">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-syn-green font-title">זמני תפילות ושיעורים</h2>
                <div class="w-24 h-1 bg-syn-gold mx-auto mt-4 mb-12 rounded"></div>
                
                <!-- Mazel Tov Section (New) -->
                <div id="mazel-tov-section" class="bg-syn-gold p-6 rounded-xl shadow-lg mb-10 transform transition duration-500 hover:scale-105" style="display: none;">
                    <h3 class="text-syn-green text-2xl md:text-3xl font-bold font-title">מזל טוב!</h3>
                    <p id="mazel-tov-text" class="text-gray-800 mt-2 text-xl md:text-2xl font-semibold"></p>
                </div>

                <!-- Shabbat Parasha & Candle times -->
                <div id="shabbat-content">
                    <p id="parasha-name" class="text-syn-green text-3xl md:text-4xl font-bold font-title mb-4">פרשת ראה</p>
                    <div class="flex flex-wrap justify-center items-center text-syn-green text-xl md:text-2xl mb-12 font-semibold">
                        <span class="mx-2">הדלקת נרות: <span id="hadlakat-nerot" class="font-bold text-syn-blue">18:47</span></span>
                        <span class="mx-2 hidden md:inline">|</span>
                        <span class="mx-2">צאת השבת: <span id="tzeit-shabbat" class="font-bold text-syn-blue">19:53</span></span>
                    </div>
                    <!-- Prayer times grid -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">מנחה לערב שבת</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="mincha-erev-shabbat">18:57</p>
                            <p class="text-gray-500 mt-2">ולאחר מכן קבלת שבת</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">שיעור</h3>
                            <p class="text-syn-green font-bold text-xl mt-4">מפי מורינו הגר"ד ברנד שליט"א</p>
                            <p class="text-gray-500 mt-2">בין קבלת שבת למעריב</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">ערבית ליל שבת</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="arvit-leil-shabbat">20:03</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">שחרית של שבת</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="shacharit-shabbat">08:30</p>
                        </div>
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">אבות ובנים</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="avot-u-banim">17:46</p>
                            <p class="text-gray-500 mt-2">40 דקות לפני מנחה</p>
                        </div>
                         <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold">
                            <h3 class="text-syn-blue font-bold text-2xl">מנחה של שבת</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="mincha-shabbat">18:26</p>
                        </div>
                    </div>
                     <!-- ערבית מוצאי שבת, מרוכזת -->
                    <div class="flex justify-center mt-8">
                        <div class="bg-white p-8 rounded-xl shadow-md card-hover border-t-4 border-syn-gold w-full sm:w-1/2 lg:w-1/3">
                            <h3 class="text-syn-blue font-bold text-2xl">ערבית מוצאי שבת</h3>
                            <p class="text-syn-green font-bold text-5xl mt-4" id="arvit-motzei-shabbat">20:03</p>
                            <p class="text-gray-500 mt-2">10 דקות לאחר צאת השבת</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Image Gallery Section - Updated -->
        <section id="gallery" class="py-20 md:py-28 bg-white animate-on-scroll">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-syn-green font-title">גלריית תמונות</h2>
                <div class="w-24 h-1 bg-syn-gold mx-auto mt-4 mb-12 rounded"></div>
                <div id="image-carousel-container" class="image-carousel-container">
                    <div id="carousel-track" class="image-carousel">
                         <!-- Image slides will be injected here by JS -->
                    </div>
                    <!-- Navigation buttons -->
                    <button id="prev-btn" class="nav-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <button id="next-btn" class="nav-btn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <!-- Indicators -->
                    <div id="carousel-indicators" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                        <!-- Indicators will be injected here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Fullscreen Image Modal -->
        <div id="fullscreen-modal" class="modal">
            <span id="fullscreen-close-btn" class="close-btn">&times;</span>
            <div class="fullscreen-content">
                <img id="fullscreen-image" src="" alt="Fullscreen Image">
                <a id="fullscreen-prev" class="fullscreen-nav-btn"><i class="fas fa-chevron-right"></i></a>
                <a id="fullscreen-next" class="fullscreen-nav-btn"><i class="fas fa-chevron-left"></i></a>
            </div>
        </div>

        <!-- Events Section -->
        <section id="events" class="py-20 md:py-28 bg-syn-light animate-on-scroll">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-syn-green font-title">שיעורים ואירועים קבועים</h2>
                <div class="w-24 h-1 bg-syn-gold mx-auto mt-4 mb-12 rounded"></div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                     <!-- Highlighted Tuesday Lesson -->
                    <div class="bg-white p-8 rounded-xl shadow-md card-hover border-b-4 border-syn-gold transform scale-105">
                        <h3 class="text-xl font-bold text-syn-gold">שיעור ביום שני</h3>
                        <p class="text-gray-600 mt-4 leading-relaxed font-extrabold">שיעור קבוע ביום שני מפי מורינו הגר"ד ברנד שליט"א - שיעור מרתק בנושאים הלכתיים אקטואליים.</p>
                        <p class="text-gray-600 mt-4 leading-relaxed font-extrabold">כיבוד קל במקום!</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md card-hover border-b-4 border-syn-blue">
                        <h3 class="text-xl font-bold text-syn-blue">שיעור מפי הרב</h3>
                        <p class="text-gray-600 mt-4 leading-relaxed">שיעור קבוע מפי מורינו הגר"ד ברנד שליט"א המתקיים בליל שבת בין קבלת שבת למעריב.</p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-md card-hover border-b-4 border-syn-blue">
                        <h3 class="text-xl font-bold text-syn-blue">אבות ובנים</h3>
                        <p class="text-gray-600 mt-4 leading-relaxed">לימוד משותף לאבות ובנים בשבת אחר הצהריים, 40 דקות לפני מנחה. פרסים והפתעות לילדים!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact & Donations Section -->
        <section id="contact" class="py-20 md:py-28 bg-syn-green text-white animate-on-scroll">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-syn-gold font-title">יצירת קשר</h2>
                <div class="w-24 h-1 bg-white mx-auto mt-4 mb-12 rounded"></div>
                <p class="text-xl md:text-2xl font-light">נשמח לראותכם בבית הכנסת!</p>
                <div class="mt-8 text-lg md:text-xl leading-loose">
                    <p class="flex items-center justify-center">
                        <i class="fas fa-map-marker-alt text-syn-gold ml-2"></i>
                        <strong>כתובת:</strong> רחוב הגפן 74, מתחם הקרוואנים, חריש
                    </p>
                    <p class="mt-4 flex items-center justify-center">
                        <i class="fas fa-phone-alt text-syn-gold ml-2"></i>
                        <strong>ליצירת קשר עם הגבאי:</strong>&nbsp;050-4102226
                    </p>
                </div>
                <a href="https://www.google.com/maps/search/?api=1&query=Gefen+74,+Harish" target="_blank" class="mt-10 inline-block bg-syn-gold text-syn-green font-bold py-4 px-10 rounded-full shadow-lg hover:bg-yellow-500 transition duration-300 transform hover:scale-105">
                    <i class="fa-solid fa-location-dot ml-2"></i>
                    ניווט למקום
                </a>
            </div>
            
            <!-- Donations Section -->
            <div class="container mx-auto px-6 text-center mt-20">
                <h3 class="text-3xl font-bold text-syn-gold font-title">אפשרויות לתרומות</h3>
                <div class="w-24 h-1 bg-white mx-auto mt-4 mb-8 rounded"></div>
                <p class="text-lg md:text-xl font-light max-w-3xl mx-auto">
                    תרומתכם תסייע בהמשך הפעילות התורנית והקהילתית של בית הכנסת.
                </p>
                <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white/10 p-6 rounded-xl shadow-md border-b-4 border-syn-gold">
                        <i class="fas fa-university text-syn-gold text-3xl mb-4"></i>
                        <h4 class="text-lg font-semibold">העברה בנקאית</h4>
                        <p class="text-sm mt-2">בנק: 12 (פועלים)</p>
                        <p class="text-sm">חשבון: 522092</p>
                        <p class="text-sm">סניף: 576</p>
                    </div>
                    <div class="bg-white/10 p-6 rounded-xl shadow-md border-b-4 border-syn-gold">
                        <i class="fas fa-mobile-alt text-syn-gold text-3xl mb-4"></i>
                        <h4 class="text-lg font-semibold">ביט / פייבוקס</h4>
                        <p class="text-sm mt-2">למספר הטלפון של הגבאי</p>
                        <p class="text-sm font-semibold">058-4663348</p>
                    </div>
                    <div class="bg-white/10 p-6 rounded-xl shadow-md border-b-4 border-syn-gold">
                        <i class="fas fa-hand-holding-heart text-syn-gold text-3xl mb-4"></i>
                        <h4 class="text-lg font-semibold">תרומה פיזית</h4>
                        <p class="text-sm mt-2">ניתן לתרום במקום</p>
                        <p class="text-sm">בזמן התפילות והשיעורים</p>
                    </div>
                    <a href="https://www.matara.pro/nedarimplus/online/?mosad=2813223" target="_blank" class="bg-white/10 p-6 rounded-xl shadow-md border-b-4 border-syn-gold flex flex-col items-center justify-center text-white hover:bg-white/20 transition duration-300">
                        <i class="fas fa-credit-card text-syn-gold text-3xl mb-4"></i>
                        <h4 class="text-lg font-semibold">נדרים פלוס</h4>
                        <p class="text-sm mt-2 font-semibold">לחצו כאן לתרומה</p>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-6">
        <div class="container mx-auto px-6 text-center">
            <p class="text-sm md:text-base">&copy; 2025 כל הזכויות שמורות לבית הכנסת חניכי הישיבות, חריש.</p>
        </div>
    </footer>

    <!-- Admin Modal -->
    <div id="admin-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="text-2xl font-bold text-syn-green font-title mb-4">ניהול אתר</h2>
            
            <!-- Password Form -->
            <form id="password-form">
                <label for="password" class="text-gray-700">הקלד קוד גישה:</label>
                <input type="password" id="password" class="modal-input" required>
                <button type="submit" class="bg-syn-green text-white py-3 px-6 rounded-lg hover:bg-syn-blue transition duration-300">התחבר</button>
                <p id="password-error" class="text-red-500 mt-2 hidden">קוד גישה שגוי. אנא נסה שוב.</p>
            </form>

            <!-- Admin Panel (hidden by default) -->
            <div id="admin-panel" class="hidden mt-4">
                <h3 class="text-xl font-bold text-syn-green mb-2">עדכון זמני תפילות</h3>
                <form id="prayer-times-form">
                    <label for="parasha-input" class="text-gray-700">פרשת שבוע:</label>
                    <input type="text" id="parasha-input" class="modal-input" required>
                    
                    <label for="hadlakat-nerot-input" class="text-gray-700">הדלקת נרות:</label>
                    <input type="text" id="hadlakat-nerot-input" class="modal-input" required>
                    
                    <label for="tzeit-shabbat-input" class="text-gray-700">צאת השבת:</label>
                    <input type="text" id="tzeit-shabbat-input" class="modal-input" required>
                    
                    <label for="mincha-erev-shabbat-input" class="text-gray-700">מנחה לערב שבת:</label>
                    <input type="text" id="mincha-erev-shabbat-input" class="modal-input" required>
                    
                    <label for="arvit-leil-shabbat-input" class="text-gray-700">ערבית ליל שבת:</label>
                    <input type="text" id="arvit-leil-shabbat-input" class="modal-input" required>
                    
                    <label for="shacharit-shabbat-input" class="text-gray-700">שחרית של שבת:</label>
                    <input type="text" id="shacharit-shabbat-input" class="modal-input" required>
                    
                    <label for="avot-u-banim-input" class="text-gray-700">אבות ובנים:</label>
                    <input type="text" id="avot-u-banim-input" class="modal-input" required>

                    <label for="mincha-shabbat-input" class="text-gray-700">מנחה של שבת:</label>
                    <input type="text" id="mincha-shabbat-input" class="modal-input" required>

                    <label for="arvit-motzei-shabbat-input" class="text-gray-700">ערבית מוצאי שבת:</label>
                    <input type="text" id="arvit-motzei-shabbat-input" class="modal-input" required>
                    
                    <button type="submit" class="bg-syn-gold text-syn-green py-3 px-6 rounded-lg hover:bg-yellow-400 transition duration-300">עדכן זמנים</button>
                </form>

                <h3 class="text-xl font-bold text-syn-green mt-6 mb-2">הוספת ברכת מזל טוב</h3>
                <form id="mazel-tov-form">
                    <label for="mazel-tov-input" class="text-gray-700">טקסט הברכה:</label>
                    <textarea id="mazel-tov-input" class="modal-input" rows="3" required></textarea>
                    
                    <label for="mazel-tov-display-time-input" class="text-gray-700">מספר ימים להצגת הברכה:</label>
                    <input type="number" id="mazel-tov-display-time-input" class="modal-input" value="7" min="1">
                    
                    <button type="submit" class="bg-syn-gold text-syn-green py-3 px-6 rounded-lg hover:bg-yellow-400 transition duration-300">הוסף ברכה</button>
                    <button type="button" id="clear-mazel-tov" class="bg-gray-400 text-gray-800 py-3 px-6 rounded-lg hover:bg-gray-500 transition duration-300">נקה ברכה</button>
                </form>

                <h3 class="text-xl font-bold text-syn-green mt-6 mb-2">ניהול גלריית תמונות</h3>
                <form id="image-gallery-form">
                    <label for="image-url-input" class="text-gray-700">הוסף תמונה (כתובת URL):</label>
                    <input type="url" id="image-url-input" class="modal-input" required>
                    <button type="submit" class="bg-syn-gold text-syn-green py-3 px-6 rounded-lg hover:bg-yellow-400 transition duration-300">הוסף תמונה</button>
                </form>
                <div class="mt-4">
                    <h4 class="text-md font-semibold text-gray-700 mb-2">תמונות נוכחיות:</h4>
                    <ul id="image-list" class="list-disc pr-6"></ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Main logic for navigation and modals
        document.addEventListener('DOMContentLoaded', function () {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const adminBtn = document.getElementById('admin-btn');
            const adminBtnMobile = document.getElementById('admin-btn-mobile');
            const modal = document.getElementById('admin-modal');
            const closeBtn = document.getElementsByClassName('close-btn')[0];
            const passwordForm = document.getElementById('password-form');
            const passwordInput = document.getElementById('password');
            const passwordError = document.getElementById('password-error');
            const adminPanel = document.getElementById('admin-panel');
            const prayerTimesForm = document.getElementById('prayer-times-form');
            const mazelTovForm = document.getElementById('mazel-tov-form');
            const clearMazelTovBtn = document.getElementById('clear-mazel-tov');
            const imageGalleryForm = document.getElementById('image-gallery-form');
            const imageList = document.getElementById('image-list');

            // Image Carousel Elements
            const carouselTrack = document.getElementById('carousel-track');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const indicatorsContainer = document.getElementById('carousel-indicators');

            // Fullscreen Modal Elements
            const fullscreenModal = document.getElementById('fullscreen-modal');
            const fullscreenImage = document.getElementById('fullscreen-image');
            const fullscreenCloseBtn = document.getElementById('fullscreen-close-btn');
            const fullscreenPrevBtn = document.getElementById('fullscreen-prev');
            const fullscreenNextBtn = document.getElementById('fullscreen-next');

            // Hardcoded password for this example. For a real site, this should be handled securely on a server.
            const ADMIN_PASSWORD = '123';

            let images = [];
            let currentImageIndex = 0;

            // Function to log errors with details
            function logError(message, error) {
                console.error(`[ERROR]: ${message}`, error);
            }

            // Function to save data to local storage
            function saveData() {
                try {
                    const data = {
                        parasha: document.getElementById('parasha-name').innerText,
                        hadlakatNerot: document.getElementById('hadlakat-nerot').innerText,
                        tzeitShabbat: document.getElementById('tzeit-shabbat').innerText,
                        minchaErevShabbat: document.getElementById('mincha-erev-shabbat').innerText,
                        arvitLeilShabbat: document.getElementById('arvit-leil-shabbat').innerText,
                        shacharitShabbat: document.getElementById('shacharit-shabbat').innerText,
                        avotUBanim: document.getElementById('avot-u-banim').innerText,
                        minchaShabbat: document.getElementById('mincha-shabbat').innerText,
                        arvitMotzeiShabbat: document.getElementById('arvit-motzei-shabbat').innerText,
                        mazelTovText: document.getElementById('mazel-tov-text').innerText,
                        mazelTovDisplayUntil: localStorage.getItem('mazelTovDisplayUntil') || null,
                        images: images
                    };
                    localStorage.setItem('synagogueData', JSON.stringify(data));
                    console.log('Data saved to localStorage.');
                } catch (error) {
                    logError('Failed to save data to localStorage.', error);
                }
            }

            // Function to load data from local storage
            function loadData() {
                try {
                    const data = JSON.parse(localStorage.getItem('synagogueData'));
                    if (data) {
                        document.getElementById('parasha-name').innerText = data.parasha;
                        document.getElementById('hadlakat-nerot').innerText = data.hadlakatNerot;
                        document.getElementById('tzeit-shabbat').innerText = data.tzeitShabbat;
                        document.getElementById('mincha-erev-shabbat').innerText = data.minchaErevShabbat;
                        document.getElementById('arvit-leil-shabbat').innerText = data.arvitLeilShabbat;
                        document.getElementById('shacharit-shabbat').innerText = data.shacharitShabbat;
                        document.getElementById('avot-u-banim').innerText = data.avotUBanim;
                        document.getElementById('mincha-shabbat').innerText = data.minchaShabbat;
                        document.getElementById('arvit-motzei-shabbat').innerText = data.arvitMotzeiShabbat;
                        document.getElementById('mazel-tov-text').innerText = data.mazelTovText;
                        images = data.images || [];
                        console.log('Data loaded from localStorage.');
                    } else {
                        // Set default images if local storage is empty
                        images = [
                            'https://i.postimg.cc/vmZWTKjb/IMG-20241027-075243-174.jpg',
                            'https://i.postimg.cc/LsDgtszP/image.png',
                            'https://i.postimg.cc/xT0gW4D0/WhatsApp-Image-2024-05-13-at-19-14-16-1.jpg',
                            'https://i.postimg.cc/mD8T18R7/WhatsApp-Image-2024-05-13-at-19-14-15.jpg'
                        ];
                        saveData(); // Save the default images to local storage
                        console.log('No data found, using defaults.');
                    }
                } catch (error) {
                    logError('Failed to load data from localStorage. Using defaults.', error);
                    images = [
                        'https://i.postimg.cc/vmZWTKjb/IMG-20241027-075243-174.jpg',
                        'https://i.postimg.cc/LsDgtszP/image.png',
                        'https://i.postimg.cc/xT0gW4D0/WhatsApp-Image-2024-05-13-at-19-14-16-1.jpg',
                        'https://i.postimg.cc/mD8T18R7/WhatsApp-Image-2024-05-13-at-19-14-15.jpg'
                    ];
                }
            }

            // Function to check and display mazel tov message
            function checkMazelTov() {
                const mazelTovSection = document.getElementById('mazel-tov-section');
                const mazelTovText = document.getElementById('mazel-tov-text');
                const displayUntil = localStorage.getItem('mazelTovDisplayUntil');

                if (mazelTovText.innerText.trim() !== '' && displayUntil) {
                    const today = new Date();
                    const expirationDate = new Date(displayUntil);
                    if (today <= expirationDate) {
                        mazelTovSection.style.display = 'block';
                    } else {
                        // Clear expired message
                        mazelTovText.innerText = '';
                        mazelTovSection.style.display = 'none';
                        localStorage.removeItem('mazelTovDisplayUntil');
                        saveData();
                    }
                } else {
                    mazelTovSection.style.display = 'none';
                }
            }
            
            // Function to render images in carousel and admin panel
            function renderImages() {
                carouselTrack.innerHTML = '';
                indicatorsContainer.innerHTML = '';
                imageList.innerHTML = '';

                if (images.length === 0) {
                    carouselTrack.innerHTML = `
                        <div class="carousel-slide flex justify-center items-center h-full bg-gray-200 text-gray-500 rounded-xl active">
                            <p>אין תמונות להצגה</p>
                        </div>
                    `;
                    prevBtn.style.display = 'none';
                    nextBtn.style.display = 'none';
                    indicatorsContainer.style.display = 'none';
                } else {
                    images.forEach((url, index) => {
                        const slide = document.createElement('div');
                        slide.className = `carousel-slide ${index === currentImageIndex ? 'active' : ''}`;
                        // Add onerror to show a fallback if the image fails to load
                        slide.innerHTML = `<img src="${url}" alt="Synagogue Event" onclick="openFullscreen('${url}', ${index})" onerror="this.onerror=null;this.src='https://placehold.co/1920x1080/E0E0E0/B0B0B0?text=Image+Not+Found';">`;
                        carouselTrack.appendChild(slide);

                        const indicator = document.createElement('div');
                        indicator.className = `w-3 h-3 rounded-full bg-white/50 cursor-pointer transition-colors duration-300 ${index === currentImageIndex ? 'bg-syn-gold' : ''}`;
                        indicator.onclick = () => showImage(index);
                        indicatorsContainer.appendChild(indicator);

                        const listItem = document.createElement('li');
                        listItem.className = "flex items-center justify-between text-gray-700 py-2 border-b border-gray-200 last:border-b-0 break-all";
                        listItem.innerHTML = `
                            <span class="truncate pr-2">${url}</span>
                            <button class="bg-red-500 text-white text-sm px-3 py-1 rounded-full hover:bg-red-600 transition duration-300 flex-shrink-0" onclick="removeImage('${url}')">הסר</button>
                        `;
                        imageList.appendChild(listItem);
                    });
                    prevBtn.style.display = 'block';
                    nextBtn.style.display = 'block';
                    indicatorsContainer.style.display = 'flex';
                }
                console.log('Image gallery rendered with', images.length, 'images.');
            }
            
            function showImage(index) {
                if (images.length === 0) {
                    return;
                }
                if (index >= images.length) {
                    currentImageIndex = 0;
                } else if (index < 0) {
                    currentImageIndex = images.length - 1;
                } else {
                    currentImageIndex = index;
                }
                
                const slides = document.querySelectorAll('.carousel-slide');
                slides.forEach((slide, i) => {
                    slide.classList.remove('active');
                });
                slides[currentImageIndex].classList.add('active');

                const indicators = indicatorsContainer.querySelectorAll('div');
                indicators.forEach((indicator, i) => {
                    if (i === currentImageIndex) {
                        indicator.classList.remove('bg-white/50');
                        indicator.classList.add('bg-syn-gold');
                    } else {
                        indicator.classList.remove('bg-syn-gold');
                        indicator.classList.add('bg-white/50');
                    }
                });
            }

            function openFullscreen(imageUrl, index) {
                if (images.length === 0) {
                    return;
                }
                fullscreenImage.src = imageUrl;
                fullscreenModal.style.display = 'flex';
                currentImageIndex = index;
            }

            function closeFullscreen() {
                fullscreenModal.style.display = 'none';
            }

            function nextFullscreenImage() {
                if (images.length === 0) return;
                currentImageIndex = (currentImageIndex + 1) % images.length;
                fullscreenImage.src = images[currentImageIndex];
            }

            function prevFullscreenImage() {
                if (images.length === 0) return;
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
                fullscreenImage.src = images[currentImageIndex];
            }

            function removeImage(urlToRemove) {
                console.log('Attempting to remove image:', urlToRemove);
                const initialLength = images.length;
                images = images.filter(url => url !== urlToRemove);
                if (images.length === initialLength) {
                    console.log('Image not found in array, no changes made.');
                } else {
                    console.log('Image removed successfully.');
                }
                saveData();
                currentImageIndex = Math.max(0, Math.min(currentImageIndex, images.length - 1));
                renderImages();
                showImage(currentImageIndex);
            }

            // Make functions globally available
            window.removeImage = removeImage;
            window.openFullscreen = openFullscreen;

            // Initial data load and check
            loadData();
            checkMazelTov();
            renderImages();
            showImage(currentImageIndex);

            // Event listeners
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                console.log('Mobile menu toggled.');
            });
            
            const mobileLinks = mobileMenu.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Admin button click handler
            [adminBtn, adminBtnMobile].forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    modal.style.display = 'flex';
                    // Reset form
                    passwordForm.reset();
                    passwordError.classList.add('hidden');
                    passwordForm.classList.remove('hidden');
                    adminPanel.classList.add('hidden');
                    renderImages(); // Refresh image list
                    console.log('Admin modal opened.');
                });
            });

            // Close admin modal
            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
                console.log('Admin modal closed.');
            });

            window.addEventListener('click', (e) => {
                if (e.target == modal) {
                    modal.style.display = 'none';
                    console.log('Admin modal closed by clicking outside.');
                }
            });

            // Password check
            passwordForm.addEventListener('submit', (e) => {
                e.preventDefault();
                if (passwordInput.value === ADMIN_PASSWORD) {
                    passwordForm.classList.add('hidden');
                    adminPanel.classList.remove('hidden');
                    console.log('Login successful. Admin panel shown.');
                } else {
                    passwordError.classList.remove('hidden');
                    console.warn('Login failed: incorrect password.');
                }
            });

            // Update prayer times
            prayerTimesForm.addEventListener('submit', (e) => {
                e.preventDefault();
                try {
                    document.getElementById('parasha-name').innerText = document.getElementById('parasha-input').value;
                    document.getElementById('hadlakat-nerot').innerText = document.getElementById('hadlakat-nerot-input').value;
                    document.getElementById('tzeit-shabbat').innerText = document.getElementById('tzeit-shabbat-input').value;
                    document.getElementById('mincha-erev-shabbat').innerText = document.getElementById('mincha-erev-shabbat-input').value;
                    document.getElementById('arvit-leil-shabbat').innerText = document.getElementById('arvit-leil-shabbat-input').value;
                    document.getElementById('shacharit-shabbat').innerText = document.getElementById('shacharit-shabbat-input').value;
                    document.getElementById('avot-u-banim').innerText = document.getElementById('avot-u-banim-input').value;
                    document.getElementById('mincha-shabbat').innerText = document.getElementById('mincha-shabbat-input').value;
                    document.getElementById('arvit-motzei-shabbat').innerText = document.getElementById('arvit-motzei-shabbat-input').value;
                    
                    saveData();
                    modal.style.display = 'none';
                    console.log('Prayer times updated and saved.');
                } catch (error) {
                    logError('Failed to update prayer times.', error);
                }
            });

            // Update mazel tov message
            mazelTovForm.addEventListener('submit', (e) => {
                e.preventDefault();
                try {
                    const mazelTovText = document.getElementById('mazel-tov-input').value;
                    const displayDays = parseInt(document.getElementById('mazel-tov-display-time-input').value);
                    const expirationDate = new Date();
                    expirationDate.setDate(expirationDate.getDate() + displayDays);
                    
                    localStorage.setItem('mazelTovDisplayUntil', expirationDate.toISOString());
                    document.getElementById('mazel-tov-text').innerText = mazelTovText;
                    
                    saveData();
                    checkMazelTov();
                    modal.style.display = 'none';
                    console.log('Mazel tov message updated and saved.');
                } catch (error) {
                    logError('Failed to update mazel tov message.', error);
                }
            });

            // Clear mazel tov message
            clearMazelTovBtn.addEventListener('click', () => {
                document.getElementById('mazel-tov-text').innerText = '';
                localStorage.removeItem('mazelTovDisplayUntil');
                saveData();
                checkMazelTov();
                modal.style.display = 'none';
                console.log('Mazel tov message cleared.');
            });

            // Add image to gallery
            imageGalleryForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const imageUrl = document.getElementById('image-url-input').value;
                if (imageUrl) {
                    images.push(imageUrl);
                    saveData();
                    renderImages();
                    document.getElementById('image-url-input').value = '';
                    // Go to the newly added image
                    showImage(images.length - 1);
                    console.log('Image added to gallery:', imageUrl);
                }
            });

            // Carousel Navigation
            prevBtn.addEventListener('click', () => {
                showImage(currentImageIndex - 1);
            });
            nextBtn.addEventListener('click', () => {
                showImage(currentImageIndex + 1);
            });

            // Fullscreen Modal Navigation
            fullscreenCloseBtn.addEventListener('click', closeFullscreen);
            fullscreenPrevBtn.addEventListener('click', prevFullscreenImage);
            fullscreenNextBtn.addEventListener('click', nextFullscreenImage);
            fullscreenModal.addEventListener('click', (e) => {
                if (e.target === fullscreenModal) {
                    closeFullscreen();
                }
            });

            // IntersectionObserver for scroll animations
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    } else {
                        entry.target.classList.remove('is-visible');
                    }
                });
            }, observerOptions);

            // Observe all sections with the animate-on-scroll class
            document.querySelectorAll('.animate-on-scroll').forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
